# Story 9.1: Tìm kiếm tin tuyển dụng cơ bản

## Epic
Tìm kiếm & Ứng tuyển Nâng cao

## Mô tả
**Là một** Ứng viên, **tôi muốn** tìm kiếm tin tuyển dụng theo từ khóa và địa điểm, **để** tôi có thể nhanh chóng tìm thấy các cơ hội phù hợp.

## Tiêu chí chấp nhận (Acceptance Criteria)
1.  ✅ Người dùng phải có thể nhập từ khóa tìm kiếm (ví dụ: "Python Developer", "Data Scientist") vào một ô tìm kiếm.
2.  ✅ Người dùng phải có thể nhập địa điểm (ví dụ: "Hà Nội", "Hồ Chí Minh", "Remote") vào một ô tìm kiếm địa điểm.
3.  ✅ Khi người dùng thực hiện tìm kiếm, hệ thống phải hiển thị danh sách các tin tuyển dụng phù hợp với cả từ khóa và địa điểm đã nhập.
4.  ✅ Kết quả tìm kiếm phải hiển thị thông tin cơ bản của tin tuyển dụng (ví dụ: tiêu đề, công ty, địa điểm, ngày đăng).
5.  ✅ Nếu không tìm thấy kết quả nào, hệ thống phải hiển thị thông báo "Không tìm thấy tin tuyển dụng nào phù hợp".
6.  ✅ Hệ thống phải hỗ trợ phân trang (pagination) cho kết quả tìm kiếm.

## Nhiệm vụ (Tasks)

-   **Backend:** ✅ HOÀN THÀNH
    -   **[x] [Database]** Đảm bảo bảng `job_descriptions` có các trường cần thiết cho từ khóa và địa điểm (ví dụ: `title`, `description`, `location_type`).
    -   **[x] [API]** Xây dựng API endpoint để tìm kiếm tin tuyển dụng theo từ khóa và địa điểm (`GET /api/v1/jobs/search/basic`). Endpoint này sẽ hỗ trợ các tham số `keyword`, `location`, `limit`, `offset`.
    -   **[x] [Logic]** Triển khai logic tìm kiếm trong service layer:
        -   Tìm kiếm từ khóa trong `title` và `description` (sử dụng `ILIKE` hoặc Full-Text Search).
        -   Lọc theo địa điểm (so sánh chính xác `location_type` hoặc tìm kiếm trong trường `location`).
    -   **[x] [API]** Phản hồi API phải bao gồm danh sách tin tuyển dụng, tổng số kết quả và thông tin phân trang.

-   **Frontend:** ✅ HOÀN THÀNH
    -   **[x] [UI]** Xây dựng trang "Tìm kiếm việc làm" với một thanh tìm kiếm (search bar).
    -   **[x] [UI]** Thiết kế và xây dựng các ô nhập liệu cho "Từ khóa" và "Địa điểm".
    -   **[x] [UI]** Tạo component `JobCard` để hiển thị thông tin tóm tắt của từng tin tuyển dụng.
    -   **[x] [UI]** Xây dựng giao diện hiển thị danh sách `JobCard` và component phân trang (pagination).
    -   **[x] [UI]** Xây dựng giao diện cho trường hợp "Không tìm thấy kết quả".
    -   **[x] [Logic]** Viết logic để gọi API tìm kiếm của backend và hiển thị kết quả.
    -   **[x] [Routing]** Triển khai routing cho trang tìm kiếm và trang chi tiết tin tuyển dụng.

## Ghi chú phát triển (Dev Notes)

### Backend Implementation
- **Endpoint:** `GET /api/v1/jobs/search/basic`
- **Service:** `search_jobs_basic()` in `backend/app/modules/jobs/services.py`
- **Schemas:** `BasicJobSearchRequest`, `BasicJobSearchResponse`, `BasicJobSearchItemResponse`
- **Search Logic:** ILIKE pattern matching on title and description, exact match on location_type
- **Filters:** Only returns active jobs (is_active=True)

### Frontend Implementation
- **Route:** `/jobs/find` - Public job search page for job seekers
- **Components:**
  - `JobCard.tsx` - Displays job summary with location badge, date, and salary
  - `JobSearchPage.tsx` - Main search interface with filters and pagination
- **Actions:** `searchJobsBasicAction()` in `features/jobs/actions.ts`
- **Service:** `searchJobsBasic()` in `services/job.service.ts`

### Files Created/Modified
**Backend:**
- `backend/app/modules/jobs/schemas.py` - Added BasicJobSearch schemas
- `backend/app/modules/jobs/services.py` - Added search_jobs_basic function
- `backend/app/modules/jobs/router.py` - Added /search/basic endpoint
- `backend/tests/test_jobs_basic_search.py` - Basic endpoint tests

**Frontend:**
- `frontend/services/job.service.ts` - Added searchJobsBasic method
- `frontend/features/jobs/actions.ts` - Added searchJobsBasicAction
- `frontend/features/jobs/components/JobCard.tsx` - New component
- `frontend/features/jobs/components/JobSearchPage.tsx` - New component
- `frontend/app/jobs/find/page.tsx` - New page route

### Status
✅ **COMPLETED** - All acceptance criteria met. Ready for testing and code review.
