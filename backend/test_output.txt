ERROR conda.cli.main_run:execute(127): `conda run env PYTHONPATH=. pytest tests/modules/jobs/test_job_recommendations.py::test_get_recommendations_no_cv -v` failed. (See above for error)
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0 -- /home/luonghailam/miniconda3/envs/backend312/bin/python3.12
cachedir: .pytest_cache
rootdir: /home/luonghailam/Projects/datn/backend
plugins: asyncio-1.3.0, anyio-4.12.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

tests/modules/jobs/test_job_recommendations.py::test_get_recommendations_no_cv ERROR [100%]

==================================== ERRORS ====================================
_______________ ERROR at setup of test_get_recommendations_no_cv _______________
file /home/luonghailam/Projects/datn/backend/tests/modules/jobs/test_job_recommendations.py, line 37
  @pytest.mark.asyncio
  async def test_get_recommendations_no_cv(async_client: AsyncClient, test_user: User, db_session):
      """Test recommendations when user has no active CV."""
      # Ensure no CV exists

      # Override dependency to use test user
      from app.modules.auth.dependencies import get_current_user
      async_client.app.dependency_overrides[get_current_user] = lambda: test_user

      response = await async_client.get("/api/v1/jobs/recommendations")
      assert response.status_code == 200
      assert response.json() == []
E       fixture 'db_session' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, create_test_user_and_cv, doctest_namespace, event_loop_policy, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, mock_db_session, mock_embedding_service, mock_skill_matcher, mock_vector_store, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, subtests, test_user, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unauthenticated_async_client, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

/home/luonghailam/Projects/datn/backend/tests/modules/jobs/test_job_recommendations.py:37
=============================== warnings summary ===============================
../../../miniconda3/envs/backend312/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /home/luonghailam/miniconda3/envs/backend312/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

app/modules/users/schemas.py:39
  /home/luonghailam/Projects/datn/backend/app/modules/users/schemas.py:39: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserResponse(BaseModel):

app/modules/users/schemas.py:60
  /home/luonghailam/Projects/datn/backend/app/modules/users/schemas.py:60: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserStatsResponse(BaseModel):

app/modules/ai/schemas.py:60
  /home/luonghailam/Projects/datn/backend/app/modules/ai/schemas.py:60: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AnalysisResult(BaseModel):

app/modules/cv/schemas.py:17
  /home/luonghailam/Projects/datn/backend/app/modules/cv/schemas.py:17: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CVResponse(CVBase):

app/modules/admin/schemas.py:10
  /home/luonghailam/Projects/datn/backend/app/modules/admin/schemas.py:10: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AdminUserResponse(BaseModel):

app/modules/messages/schemas.py:18
  /home/luonghailam/Projects/datn/backend/app/modules/messages/schemas.py:18: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ConversationResponse(BaseModel):

app/modules/messages/schemas.py:61
  /home/luonghailam/Projects/datn/backend/app/modules/messages/schemas.py:61: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class MessageResponse(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/modules/jobs/test_job_recommendations.py::test_get_recommendations_no_cv
========================= 8 warnings, 1 error in 0.02s =========================

