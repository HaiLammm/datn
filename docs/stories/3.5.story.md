# Story 3.5: JD Upload Frontend

## Status
Done

## Story
**As a** Talent Seeker (Recruiter),
**I want** a user-friendly interface to upload Job Descriptions,
**So that** I can easily add job requirements and find matching candidates.

## Acceptance Criteria

1. Táº¡o JD upload page vá»›i form táº¡i `/jobs/jd/upload`
2. Form há»— trá»£ text input (paste JD content trá»±c tiáº¿p)
3. Form há»— trá»£ file upload (PDF/DOCX) nhÆ° alternative input method
4. Form cÃ³ cÃ¡c trÆ°á»ng: title (required), description (required), location_type (select), required_skills (optional), min_experience_years (optional), salary range (optional)
5. Hiá»ƒn thá»‹ parsing status sau khi submit (pending, processing, completed, failed)
6. Hiá»ƒn thá»‹ extracted requirements sau khi parsing hoÃ n thÃ nh
7. Cho phÃ©p user chá»‰nh sá»­a parsed requirements (required_skills, nice_to_have_skills, min_experience_years)
8. Validation errors hiá»ƒn thá»‹ rÃµ rÃ ng cho user
9. Responsive design cho mobile vá»›i accessibility support (ARIA labels, keyboard navigation)
10. Redirect Ä‘áº¿n JD detail page sau khi upload thÃ nh cÃ´ng
11. Táº¡o JD list page táº¡i `/jobs` hiá»ƒn thá»‹ danh sÃ¡ch JDs cá»§a user
12. Unit tests cho components vÃ  integration tests cho actions

## Tasks / Subtasks

- [x] **Task 1: Create Job Service Layer (AC: 1, 2, 3)**
    - [x] Update `frontend/services/job.service.ts` with JD CRUD methods
    - [x] Implement `createJD(data: JobDescriptionCreate): Promise<JobDescriptionResponse>`
    - [x] Implement `getJDList(): Promise<JobDescriptionResponse[]>`
    - [x] Implement `getJD(jdId: string): Promise<JobDescriptionResponse>`
    - [x] Implement `deleteJD(jdId: string): Promise<void>`
    - [x] Implement `getJDParseStatus(jdId: string): Promise<JDParseStatusResponse>`
    - [x] Follow pattern from `cv.service.ts` for auth token forwarding

- [x] **Task 2: Update Shared Types (AC: 4, 5)**
    - [x] Update `packages/shared-types/src/job.ts`
    - [x] Add `JDParseStatus` enum: `'pending' | 'processing' | 'completed' | 'failed'`
    - [x] Add `ParsedJDRequirements` interface with required_skills, nice_to_have_skills, min_experience_years, job_title_normalized, key_responsibilities
    - [x] Add `JDParseStatusResponse` interface with parse_status, parsed_requirements, parse_error
    - [x] Update `JobDescriptionResponse` to include parse_status field
    - [x] Export new types from `packages/shared-types/src/index.ts`
    - [x] Run `npm run build` in packages/shared-types

- [x] **Task 3: Create Server Actions (AC: 1, 2, 3, 6)**
    - [x] Create `frontend/features/jobs/actions.ts`
    - [x] Implement `createJDAction(prevState, formData): Promise<ActionState>` with Zod validation
    - [x] Implement `getJDListAction(): Promise<JobDescriptionResponse[]>`
    - [x] Implement `getJDAction(jdId: string): Promise<JobDescriptionResponse>`
    - [x] Implement `getJDParseStatusAction(jdId: string): Promise<JDParseStatusResponse>`
    - [x] Implement `deleteJDAction(jdId: string): Promise<{ success: boolean; message: string }>`
    - [x] Follow pattern from `features/cv/actions.ts`
    - [x] Use Zod schema for validation: title required (min 3 chars), description required (min 10 chars), location_type enum

- [x] **Task 4: Create JDUploadForm Component (AC: 2, 3, 4, 8, 9)**
    - [x] Create `frontend/features/jobs/components/JDUploadForm.tsx`
    - [x] Use `useActionState` for form submission
    - [x] **Input Mode Toggle**: Radio buttons or tabs to switch between "Paste Text" and "Upload File"
    - [x] Form fields:
        - [x] `title` - Input text (required)
        - [x] `description` - Textarea (required when text mode, for pasting JD content)
        - [x] `file` - File input (required when file mode, accepts PDF/DOCX)
        - [x] `location_type` - Select dropdown (remote/hybrid/on-site, default: remote)
        - [x] `required_skills` - Input text with comma-separated values (optional)
        - [x] `min_experience_years` - Number input (optional)
        - [x] `salary_min` / `salary_max` - Number inputs (optional)
    - [x] File upload handling (follow pattern from `CVUploadForm.tsx`):
        - [x] Validate file type: `.pdf`, `.docx`
        - [x] Validate file size: max 10MB
        - [x] Show selected file name
        - [x] Clear file button
    - [x] Display validation errors from server action
    - [x] Loading state with spinner during submission
    - [x] Use shadcn/ui components: Button, Input, Textarea, Select, Label
    - [x] Responsive layout: single column on mobile, wider on desktop
    - [x] Accessibility: ARIA labels for all inputs, keyboard navigation support

- [x] **Task 5: Create JDCard Component (AC: 9)**
    - [x] Create `frontend/features/jobs/components/JDCard.tsx`
    - [x] Display JD title, location_type, uploaded_at, parse_status
    - [x] Show skill count if parsed_requirements available
    - [x] Color-coded status badge:
        - [x] pending: Yellow
        - [x] processing: Blue
        - [x] completed: Green
        - [x] failed: Red
    - [x] Link to JD detail page `/jobs/jd/[jdId]`
    - [x] Delete button with confirmation

- [x] **Task 6: Create JDList Component (AC: 9)**
    - [x] Create `frontend/features/jobs/components/JDList.tsx`
    - [x] Display list of JDCard components
    - [x] Handle empty state: "ChÆ°a cÃ³ Job Description nÃ o. HÃ£y táº¡o JD Ä‘áº§u tiÃªn!"
    - [x] Loading state while fetching
    - [x] Link to upload page

- [x] **Task 7: Create ParseStatusDisplay Component (AC: 5, 6)**
    - [x] Create `frontend/features/jobs/components/ParseStatusDisplay.tsx`
    - [x] Props: `jdId: string`, `initialStatus: JDParseStatus`, `parsedRequirements?: ParsedJDRequirements`
    - [x] Poll for status updates if status is 'pending' or 'processing' (every 3 seconds)
    - [x] Display parsed requirements when completed:
        - [x] Required Skills as badges
        - [x] Nice-to-have Skills as badges (different color)
        - [x] Min Experience Years
        - [x] Job Title Normalized
        - [x] Key Responsibilities list
    - [x] Display error message if failed
    - [x] Stop polling when completed or failed
    - [x] "Edit" button to switch to edit mode (triggers EditParsedRequirements)
    - [x] Accessibility: ARIA labels for badges, keyboard navigation for edit button

- [x] **Task 8: Create EditParsedRequirements Component (AC: 7, 9)**
    - [x] **Prerequisite**: Story 3.2.1 must be completed first
    - [x] Create `frontend/features/jobs/components/EditParsedRequirements.tsx`
    - [x] Props: `jdId: string`, `currentRequirements: ParsedJDRequirements`, `onSave: () => void`, `onCancel: () => void`
    - [x] Editable fields:
        - [x] `required_skills` - Tag input (add/remove skills)
        - [x] `nice_to_have_skills` - Tag input (add/remove skills)
        - [x] `min_experience_years` - Number input
    - [x] Validation: skills must be non-empty strings
    - [x] "Save" button - calls `updateParsedRequirementsAction`
    - [x] "Cancel" button - returns to view mode
    - [x] Loading state during save
    - [x] Error display if save fails
    - [x] Accessibility: ARIA labels, keyboard navigation

- [x] **Task 9: Update Service Layer for Edit (AC: 7)**
    - [x] **Prerequisite**: Story 3.2.1 must be completed first
    - [x] Add method to `frontend/services/job.service.ts`:
        - [x] `updateParsedRequirements(jdId: string, data: Partial<ParsedJDRequirements>): Promise<JDParseStatusResponse>`
    - [x] Add server action to `frontend/features/jobs/actions.ts`:
        - [x] `updateParsedRequirementsAction(jdId: string, formData: FormData): Promise<ActionState>`
    - [x] Uses backend endpoint from Story 3.2.1: `PATCH /api/v1/jobs/jd/{jd_id}/parsed-requirements`

- [x] **Task 10: Create JD Upload Page (AC: 1, 10)**
    - [x] Create `frontend/app/jobs/jd/upload/page.tsx`
    - [x] Authentication guard (redirect to /login if not authenticated)
    - [x] Render JDUploadForm component
    - [x] Handle successful submission: redirect to `/jobs/jd/[jdId]`
    - [x] Page title: "Táº¡o Job Description má»›i"

- [x] **Task 11: Create JD List Page (AC: 11)**
    - [x] Create `frontend/app/jobs/page.tsx`
    - [x] Authentication guard
    - [x] Fetch JD list using server action
    - [x] Render JDList component
    - [x] Page title: "Job Descriptions cá»§a báº¡n"
    - [x] Add "Táº¡o JD má»›i" button linking to `/jobs/jd/upload`

- [x] **Task 12: Create JD Detail Page (AC: 5, 6, 7)**
    - [x] Create `frontend/app/jobs/jd/[jdId]/page.tsx`
    - [x] Authentication guard + ownership check (404 if not owner)
    - [x] Fetch JD details
    - [x] Display JD info: title, description, location, salary range
    - [x] Render ParseStatusDisplay component (with edit capability)
    - [x] Add "Xem á»©ng viÃªn phÃ¹ há»£p" button (link to candidates page - Story 3.6)
    - [x] Add "XÃ³a JD" button with confirmation

- [x] **Task 13: Create Layout for Jobs Section (AC: 1)**
    - [x] Create `frontend/app/jobs/layout.tsx`
    - [x] Simple layout with consistent styling
    - [x] Navigation back to dashboard

- [x] **Task 14: Write Unit Tests (AC: 12)**
    - [x] Create `frontend/features/jobs/components/JDUploadForm.test.tsx`
        - [x] Test: Renders all form fields including file upload toggle
        - [x] Test: Switches between text and file upload modes
        - [x] Test: Validates file type (PDF/DOCX only)
        - [x] Test: Shows validation errors for empty required fields
        - [x] Test: Submits form with valid data
        - [x] Test: Shows loading state during submission
    - [x] Create `frontend/features/jobs/components/JDCard.test.tsx`
        - [x] Test: Renders JD info correctly
        - [x] Test: Shows correct status badge color
        - [x] Test: Links to detail page
    - [x] Create `frontend/features/jobs/components/JDList.test.tsx`
        - [x] Test: Renders list of JD cards
        - [x] Test: Shows empty state message
    - [x] Create `frontend/features/jobs/components/ParseStatusDisplay.test.tsx`
        - [x] Test: Shows pending/processing status
        - [x] Test: Shows parsed requirements when completed
        - [x] Test: Shows error message when failed
        - [x] Test: Renders edit button when status is completed
    - [x] Create `frontend/features/jobs/components/EditParsedRequirements.test.tsx`
        - [x] Test: Renders editable fields with current values
        - [x] Test: Add/remove skills from tag input
        - [x] Test: Save button calls update action
        - [x] Test: Cancel button returns to view mode
    - [x] Use Jest + React Testing Library
    - [x] Mock server actions

- [ ] **Task 15: Manual Testing (AC: 3, 7, 9)**
    - [ ] Test file upload (PDF and DOCX files)
    - [ ] Test text paste input mode
    - [ ] Test switching between input modes
    - [ ] Test editing parsed requirements (add/remove skills)
    - [ ] Test responsive design on mobile (375px), tablet (768px), desktop (1920px)
    - [ ] Test accessibility: keyboard navigation, screen reader compatibility
    - [ ] Test form validation feedback
    - [ ] Test parsing status polling
    - [ ] Test navigation flow: list -> upload -> detail -> edit -> back to list
    - [ ] Cross-browser testing: Chrome, Firefox

## Dev Notes

### Previous Story Insights (Stories 3.1, 3.2, 3.3)

From Story 3.1 (Backend):
- Backend CRUD endpoints ready: POST/GET/DELETE `/api/v1/jobs/jd`
- Authentication required on all endpoints
- JobDescription model includes: title, description, location_type, required_skills, min_experience_years, salary_min, salary_max, parsed_requirements

From Story 3.2 (Backend):
- Parsing runs async after JD creation (BackgroundTasks)
- Parse status endpoint: GET `/api/v1/jobs/jd/{jd_id}/parse-status`
- Status values: 'pending', 'processing', 'completed', 'failed'
- Parsed requirements stored in `parsed_requirements` JSONB field

From Story 3.3 (Backend):
- Candidates endpoint ready: GET `/api/v1/jobs/jd/{jd_id}/candidates`
- Returns ranked candidates (will be used in Story 3.6)

**[Source: docs/stories/3.1.story.md, docs/stories/3.2.story.md, docs/stories/3.3.story.md]**

### Frontend Patterns

**Component Template (from CVUploadForm):**
```typescript
'use client';

import { useActionState, useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Loader2 } from "lucide-react";

export function JDUploadForm() {
    const [state, formAction, isPending] = useActionState(createJDAction, {
        message: "",
        errors: {},
    });
    // ... component logic
}
```

**Server Action Pattern (from cv/actions.ts):**
```typescript
"use server";

import { z } from "zod";
import { revalidatePath } from "next/cache";
import { headers } from "next/headers";

const JDSchema = z.object({
    title: z.string().min(3, "TiÃªu Ä‘á» pháº£i cÃ³ Ã­t nháº¥t 3 kÃ½ tá»±"),
    description: z.string().min(10, "MÃ´ táº£ pháº£i cÃ³ Ã­t nháº¥t 10 kÃ½ tá»±"),
    location_type: z.enum(["remote", "hybrid", "on-site"]),
    // ... other fields
});

export async function createJDAction(prevState, formData): Promise<ActionState> {
    // validation, service call, error handling
}
```

**[Source: frontend/features/cv/components/CVUploadForm.tsx, frontend/features/cv/actions.ts]**

### API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/v1/jobs/jd` | Create new JD |
| GET | `/api/v1/jobs/jd` | List user's JDs |
| GET | `/api/v1/jobs/jd/{jd_id}` | Get JD detail |
| DELETE | `/api/v1/jobs/jd/{jd_id}` | Delete JD |
| GET | `/api/v1/jobs/jd/{jd_id}/parse-status` | Get parsing status |

**[Source: docs/stories/3.1.story.md#API-Specifications, docs/stories/3.2.story.md]**

### File Locations

**Files to Create:**
```
frontend/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ jobs/
â”‚       â”œâ”€â”€ layout.tsx                    # Jobs section layout
â”‚       â”œâ”€â”€ page.tsx                      # JD list page (/jobs)
â”‚       â””â”€â”€ jd/
â”‚           â”œâ”€â”€ upload/
â”‚           â”‚   â””â”€â”€ page.tsx              # JD upload page
â”‚           â””â”€â”€ [jdId]/
â”‚               â””â”€â”€ page.tsx              # JD detail page
â”œâ”€â”€ features/
â”‚   â””â”€â”€ jobs/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ JDUploadForm.tsx          # With file upload toggle
â”‚       â”‚   â”œâ”€â”€ JDUploadForm.test.tsx
â”‚       â”‚   â”œâ”€â”€ JDCard.tsx
â”‚       â”‚   â”œâ”€â”€ JDCard.test.tsx
â”‚       â”‚   â”œâ”€â”€ JDList.tsx
â”‚       â”‚   â”œâ”€â”€ JDList.test.tsx
â”‚       â”‚   â”œâ”€â”€ ParseStatusDisplay.tsx
â”‚       â”‚   â”œâ”€â”€ ParseStatusDisplay.test.tsx
â”‚       â”‚   â”œâ”€â”€ EditParsedRequirements.tsx  # NEW: Edit parsed requirements
â”‚       â”‚   â””â”€â”€ EditParsedRequirements.test.tsx
â”‚       â”œâ”€â”€ actions.ts
â”‚       â””â”€â”€ types.ts                      # Local types if needed
â””â”€â”€ services/
    â””â”€â”€ job.service.ts                    # Update with CRUD methods
```

**Files to Modify:**
```
packages/shared-types/src/
â”œâ”€â”€ job.ts                                # Add parse status types
â””â”€â”€ index.ts                              # Export new types
```

**[Source: docs/architecture/frontend-architecture.md, docs/architecture/source-tree.md]**

### Technical Constraints

1. **Naming Conventions:**
   - Components: `PascalCase` (e.g., `JDUploadForm.tsx`)
   - Actions: `camelCase` with `Action` suffix (e.g., `createJDAction`)
   - Services: `camelCase` (e.g., `jobService.createJD`)

2. **Authentication:**
   - All pages must check for `access_token` cookie
   - Redirect to `/login` if not authenticated
   - Use `cookies()` from `next/headers` in Server Components

3. **Type Sharing:**
   - Import types from `@datn/shared-types`
   - Do NOT duplicate type definitions in frontend

4. **State Management:**
   - Use `useActionState` for form submission
   - Use `useState` for local component state (e.g., polling status)
   - Use `useEffect` for polling logic

5. **Styling:**
   - Use Tailwind CSS utility classes
   - Use `cn()` from `@/lib/utils` for conditional classes
   - Follow existing shadcn/ui patterns

**[Source: docs/architecture/coding-standards.md, docs/architecture/frontend-architecture.md]**

### Polling Strategy for Parse Status

```typescript
// ParseStatusDisplay.tsx
const [status, setStatus] = useState(initialStatus);
const [parsedData, setParsedData] = useState(null);

useEffect(() => {
    if (status === 'completed' || status === 'failed') return;
    
    const interval = setInterval(async () => {
        const result = await getJDParseStatusAction(jdId);
        setStatus(result.parse_status);
        if (result.parse_status === 'completed') {
            setParsedData(result.parsed_requirements);
            clearInterval(interval);
        } else if (result.parse_status === 'failed') {
            clearInterval(interval);
        }
    }, 3000); // Poll every 3 seconds
    
    return () => clearInterval(interval);
}, [jdId, status]);
```

### Dependencies

- **Story 3.5 depends on:**
  - Story 3.1 (JD Module Foundation) - **DONE**
  - Story 3.2 (JD Parsing) - **DONE**
  - Story 3.2.1 (Update Parsed Requirements API) - **REQUIRED for AC7** - See `docs/stories/3.2.1.story.md`

- **Stories that depend on 3.5:**
  - Story 3.6 (Candidate Results Frontend) - needs JD detail page as base
  - Story 3.7 (Semantic Search Frontend) - may share components

### Backend Dependency: Update Parsed Requirements API

**RESOLVED:** Story 3.2.1 has been created as a prerequisite for AC7 (edit parsed requirements).

**Endpoint from Story 3.2.1:**
```yaml
PATCH /api/v1/jobs/jd/{jd_id}/parsed-requirements
Body: { required_skills?: string[], nice_to_have_skills?: string[], min_experience_years?: number }
Response: JDParseStatusResponse
```

**Implementation Order:**
1. Complete Story 3.2.1 first (backend PATCH endpoint)
2. Then implement Story 3.5 Tasks 8-9 (EditParsedRequirements component)

**Current backend endpoints from Story 3.2:**
- GET `/api/v1/jobs/jd/{jd_id}/parse-status` - read only
- POST `/api/v1/jobs/jd/{jd_id}/reparse` - triggers re-parse, overwrites user edits

**[Source: backend/app/modules/jobs/router.py, docs/stories/3.2.story.md]**

### File Upload Pattern

**Reference from CVUploadForm.tsx:**
```typescript
// File validation and handling
const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    if (event.target.files && event.target.files.length > 0) {
        const file = event.target.files[0];
        // Validate file type
        if (
            file.type === "application/pdf" ||
            file.type === "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        ) {
            setSelectedFile(file);
            setFileError("");
        } else {
            setSelectedFile(null);
            setFileError("Chá»‰ cháº¥p nháº­n file PDF hoáº·c DOCX.");
        }
    }
};

// File input with accept attribute
<Input
    id="jdFile"
    name="jdFile"
    type="file"
    accept=".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    onChange={handleFileChange}
    aria-describedby="file-error"
/>
```

**Input Mode Toggle Pattern:**
```typescript
const [inputMode, setInputMode] = useState<'text' | 'file'>('text');

// Radio buttons for mode selection
<RadioGroup value={inputMode} onValueChange={(v) => setInputMode(v as 'text' | 'file')}>
    <RadioGroupItem value="text" id="text-mode" />
    <Label htmlFor="text-mode">Paste vÄƒn báº£n</Label>
    <RadioGroupItem value="file" id="file-mode" />
    <Label htmlFor="file-mode">Táº£i file lÃªn</Label>
</RadioGroup>

// Conditional rendering based on mode
{inputMode === 'text' ? (
    <Textarea name="description" required ... />
) : (
    <Input type="file" name="jdFile" required ... />
)}
```

**[Source: frontend/features/cv/components/CVUploadForm.tsx:18-36]**

### Accessibility Guidelines

**WCAG 2.1 AA Compliance Requirements:**

1. **Form Labels:**
   - Every input must have an associated `<Label>` with `htmlFor` attribute
   - Use `aria-describedby` for error messages and help text
   ```typescript
   <Label htmlFor="title">TiÃªu Ä‘á» *</Label>
   <Input id="title" aria-describedby="title-error" />
   {error && <p id="title-error" role="alert">{error}</p>}
   ```

2. **Keyboard Navigation:**
   - All interactive elements must be focusable (tabIndex)
   - Focus should be visible (use Tailwind's `focus:ring-2 focus:ring-blue-500`)
   - Modal dialogs must trap focus
   - Edit/Cancel buttons should be keyboard accessible

3. **Screen Reader Support:**
   - Use `role="alert"` for error messages
   - Use `aria-live="polite"` for status updates (parsing status)
   - Use `aria-label` for icon-only buttons
   ```typescript
   <Button aria-label="XÃ³a skill Python" onClick={() => removeSkill("python")}>
       <X className="h-4 w-4" />
   </Button>
   ```

4. **Skill Badges (Tag Input):**
   - Each badge should be a button with clear aria-label
   - Announce when skills are added/removed
   ```typescript
   <div role="list" aria-label="Ká»¹ nÄƒng yÃªu cáº§u">
       {skills.map(skill => (
           <div role="listitem" key={skill}>
               {skill}
               <button aria-label={`XÃ³a ${skill}`} onClick={() => remove(skill)}>Ã—</button>
           </div>
       ))}
   </div>
   ```

5. **Color Contrast:**
   - Status badges must have sufficient contrast (4.5:1 for text)
   - Don't rely on color alone - use icons or text labels

**[Source: docs/architecture/frontend-architecture.md, WCAG 2.1 Guidelines]**

## Testing

### Frontend Tests
- **Location:** `frontend/features/jobs/components/`
- **Framework:** Jest + React Testing Library
- **Run command:** `npm test -- features/jobs`

### Test Patterns

```typescript
// JDUploadForm.test.tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { JDUploadForm } from './JDUploadForm';
import { createJDAction } from '../actions';

jest.mock('../actions', () => ({
    createJDAction: jest.fn(),
}));

describe('JDUploadForm', () => {
    beforeEach(() => {
        (createJDAction as jest.Mock).mockReset();
    });

    it('renders all required form fields', () => {
        render(<JDUploadForm />);
        expect(screen.getByLabelText(/tiÃªu Ä‘á»/i)).toBeInTheDocument();
        expect(screen.getByLabelText(/mÃ´ táº£/i)).toBeInTheDocument();
        expect(screen.getByLabelText(/hÃ¬nh thá»©c lÃ m viá»‡c/i)).toBeInTheDocument();
    });

    it('shows validation error for empty title', async () => {
        (createJDAction as jest.Mock).mockResolvedValueOnce({
            message: '',
            errors: { title: 'TiÃªu Ä‘á» pháº£i cÃ³ Ã­t nháº¥t 3 kÃ½ tá»±' }
        });

        render(<JDUploadForm />);
        fireEvent.click(screen.getByRole('button', { name: /táº¡o jd/i }));

        await waitFor(() => {
            expect(screen.getByText(/tiÃªu Ä‘á» pháº£i cÃ³ Ã­t nháº¥t 3 kÃ½ tá»±/i)).toBeInTheDocument();
        });
    });
});
```

**[Source: docs/architecture/testing-strategy.md]**

### Mocking Strategy
- Mock `createJDAction`, `getJDParseStatusAction` for component tests
- Mock `jobService` methods for action tests (if testing actions separately)
- Use `jest.useFakeTimers()` for polling tests

## UI Mockup

### JD Upload Form (with File Upload Toggle)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Dashboard          Táº¡o Job Description má»›i          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ TiÃªu Ä‘á» *                                                   â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ Senior Python Developer                                 â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Nháº­p mÃ´ táº£ cÃ´ng viá»‡c:                                       â”‚â”‚
â”‚  â”‚   (â—) Paste vÄƒn báº£n    ( ) Táº£i file lÃªn (PDF/DOCX)         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ MÃ´ táº£ cÃ´ng viá»‡c *                                          â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ We are looking for a Senior Python Developer with:     â”‚ â”‚â”‚
â”‚  â”‚ â”‚ - 3+ years of Python experience                        â”‚ â”‚â”‚
â”‚  â”‚ â”‚ - Experience with FastAPI or Django                    â”‚ â”‚â”‚
â”‚  â”‚ â”‚ - Knowledge of PostgreSQL                              â”‚ â”‚â”‚
â”‚  â”‚ â”‚ ...                                                     â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ HÃ¬nh thá»©c lÃ m viá»‡c     â”‚  â”‚ Kinh nghiá»‡m tá»‘i thiá»ƒu (nÄƒm)   â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ Remote           â–¼â”‚ â”‚  â”‚ â”‚ 3                          â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Má»©c lÆ°Æ¡ng tá»‘i thiá»ƒu   â”‚  â”‚ Má»©c lÆ°Æ¡ng tá»‘i Ä‘a              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ 2000               â”‚ â”‚  â”‚ â”‚ 4000                       â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                      [ Táº¡o Job Description ]                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When "Táº£i file lÃªn" is selected:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ Nháº­p mÃ´ táº£ cÃ´ng viá»‡c:                                       â”‚â”‚
â”‚  â”‚   ( ) Paste vÄƒn báº£n    (â—) Táº£i file lÃªn (PDF/DOCX)         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Chá»n file JD *                                              â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ ğŸ“„ JD_Python_Developer.pdf          [x] XÃ³a            â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚           hoáº·c kÃ©o tháº£ file vÃ o Ä‘Ã¢y                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
```

### After submission (parsing in progress):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JD: Senior Python Developer                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Status: â³ Äang phÃ¢n tÃ­ch...                                   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  â³ Há»‡ thá»‘ng Ä‘ang phÃ¢n tÃ­ch JD cá»§a báº¡n. Vui lÃ²ng Ä‘á»£i...    â”‚â”‚
â”‚  â”‚     (ThÆ°á»ng máº¥t 10-30 giÃ¢y)                                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After parsing complete (View Mode):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JD: Senior Python Developer                    [Xem á»©ng viÃªn] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Status: âœ… PhÃ¢n tÃ­ch hoÃ n táº¥t                                  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Ká»¹ nÄƒng yÃªu cáº§u:                              [âœï¸ Chá»‰nh sá»­a]â”‚â”‚
â”‚  â”‚  [Python] [FastAPI] [PostgreSQL] [Docker]                  â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Ká»¹ nÄƒng Æ°u tiÃªn:                                          â”‚â”‚
â”‚  â”‚  [Kubernetes] [AWS] [Redis]                                â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Kinh nghiá»‡m tá»‘i thiá»ƒu: 3 nÄƒm                              â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  TiÃªu Ä‘á» chuáº©n hÃ³a: Senior Python Developer                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  [ Xem á»©ng viÃªn phÃ¹ há»£p ]                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Edit Parsed Requirements Mode:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JD: Senior Python Developer                    [Xem á»©ng viÃªn] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Status: âœ… PhÃ¢n tÃ­ch hoÃ n táº¥t                                  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  âœï¸ Chá»‰nh sá»­a yÃªu cáº§u                                       â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Ká»¹ nÄƒng yÃªu cáº§u:                                          â”‚â”‚
â”‚  â”‚  [Python Ã—] [FastAPI Ã—] [PostgreSQL Ã—] [Docker Ã—]          â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚â”‚
â”‚  â”‚  â”‚ ThÃªm ká»¹ nÄƒng...                    â”‚ [+ ThÃªm]           â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Ká»¹ nÄƒng Æ°u tiÃªn:                                          â”‚â”‚
â”‚  â”‚  [Kubernetes Ã—] [AWS Ã—] [Redis Ã—]                          â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚â”‚
â”‚  â”‚  â”‚ ThÃªm ká»¹ nÄƒng...                    â”‚ [+ ThÃªm]           â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Kinh nghiá»‡m tá»‘i thiá»ƒu (nÄƒm):                              â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚â”‚
â”‚  â”‚  â”‚ 3                                  â”‚                    â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚         [ LÆ°u thay Ä‘á»•i ]    [ Há»§y ]                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**[Source: docs/prd/3-candidate-discovery-epic.md#3.3]**

## Change Log

| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2025-12-18 | 1.0 | Initial draft of Story 3.5 - JD Upload Frontend | Bob (Scrum Master) |
| 2025-12-18 | 1.1 | PO Validation: Added AC3 (file upload), AC7 (edit parsed requirements), AC9 (accessibility). Updated tasks 4, 7, 8, 9, added tasks for EditParsedRequirements component. Added Dev Notes for file upload patterns, accessibility guidelines, and backend PATCH dependency. Updated UI mockups. | Sarah (PO) |
| 2025-12-18 | 1.2 | Created Story 3.2.1 as prerequisite for AC7. Updated Tasks 8, 9 to reference Story 3.2.1. Updated Dependencies section. | Sarah (PO) |
| 2025-12-18 | 1.3 | Development Complete: All tasks 1-14 implemented. 28 unit tests passing. TypeScript and ESLint clean. Frontend build successful. Updated jest.setup.ts with Radix UI mocks. Ready for manual testing. | Dev |

## Files Created/Modified

### Created Files
```
packages/shared-types/src/job.ts               # Added JDParseStatus, ParsedJDRequirements, JDParseStatusResponse types
frontend/services/job.service.ts               # Added JD CRUD methods
frontend/features/jobs/actions.ts              # Server actions with Zod validation
frontend/features/jobs/components/
â”œâ”€â”€ JDUploadForm.tsx                           # Upload form with text/file toggle
â”œâ”€â”€ JDUploadForm.test.tsx                      # 6 tests
â”œâ”€â”€ JDCard.tsx                                 # Card with status badges
â”œâ”€â”€ JDCard.test.tsx                            # 7 tests
â”œâ”€â”€ JDList.tsx                                 # Grid list with empty state
â”œâ”€â”€ JDList.test.tsx                            # 3 tests
â”œâ”€â”€ ParseStatusDisplay.tsx                     # Status polling, requirements display
â”œâ”€â”€ ParseStatusDisplay.test.tsx                # 6 tests
â”œâ”€â”€ EditParsedRequirements.tsx                 # Tag input for skills editing
â”œâ”€â”€ EditParsedRequirements.test.tsx            # 6 tests
â””â”€â”€ JDDetailClient.tsx                         # Client component for detail page
frontend/app/jobs/
â”œâ”€â”€ layout.tsx                                 # Jobs section layout
â”œâ”€â”€ page.tsx                                   # JD list page
â””â”€â”€ jd/
    â”œâ”€â”€ upload/page.tsx                        # JD upload page
    â””â”€â”€ [jdId]/page.tsx                        # JD detail page
frontend/components/ui/
â”œâ”€â”€ select.tsx                                 # shadcn Select component
â”œâ”€â”€ textarea.tsx                               # shadcn Textarea component
â””â”€â”€ radio-group.tsx                            # shadcn RadioGroup component
```

### Modified Files
```
frontend/jest.setup.ts                         # Added ResizeObserver and PointerEvent mocks for Radix UI
```

---
